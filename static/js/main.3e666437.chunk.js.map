{"version":3,"sources":["js/constants/action-types.js","js/reducers/index.js","js/sagas/api-saga.js","js/store/index.js","js/components/AddressList.js","js/components/CustomerAddressDetails.js","js/components/Customers.js","js/actions/index.js","js/components/ErrorBoundary.js","App.js","index.js"],"names":["initialState","customerList","customerAddress","rootReducer","state","action","type","Object","assign","payload","watchGetAllCustomers","watchGetAddressDetail","workerSagaCustomerList","workerSagaAddress","root","takeEvery","call","getData","put","id","selectedCustomer","getAddress","axios","get","then","response","data","Error","all","fork","initialiseSagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","apiSaga","AddressList","props","addressListItem","count","addressList","length","map","item","key","address","city","country","className","Address","connect","customerAddressDetail","addressDetail","name","Customers","Component","constructor","super","componentDidMount","this","getCustomerList","render","customer","onClick","getCustomerAddress","email","age","sex","CustomerAddressDetails","ErrorBoundary","React","hasError","error","componentDidCatch","errorInfo","console","log","children","App","basename","process","src","alt","exact","path","component","document","getElementById"],"mappings":"uOAAO,MCGDA,EAAe,CACnBC,aAAc,GACdC,gBAAiB,IAmBJC,MAhBf,SAAqBC,EAAQJ,EAAcK,GAEzC,MDRqC,4BCQjCA,EAAOC,KAEFC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BF,gBAAiBG,EAAOI,UDVM,yBCa9BJ,EAAOC,KACHC,OAAOC,OAAO,GAAIJ,EAAO,CAC7BH,aAAcI,EAAOI,UAGlBL,G,4DCdWM,G,WAIDC,G,WAGCC,G,WAUDC,G,WA6BQC,GA9CjB,SAAUJ,IAAV,iEACN,OADM,SACAK,YFPuB,oBEOiBH,GADxC,uCAID,SAAUD,EAAsBN,GAAhC,iEACN,OADM,SACAU,YFZ2B,uBEYgBF,GAD3C,uCAGC,SAAUD,IAAV,uEAEY,OAFZ,kBAEkBI,YAAKC,GAFvB,OAGJ,OADMR,EAFF,gBAGES,YAAI,CAAEZ,KFdkB,uBEcqBG,YAH/C,8BAKJ,OALI,mCAKES,YAAI,CAAEZ,KFdoB,2BEcuBG,QAAQ,EAAD,KAL1D,qDAUD,SAAUI,EAAkBR,GAA5B,yEAOa,OAHdc,EAAGd,GAAQA,EAAOI,QAAQJ,EAAOI,QAAQW,kBFtBhB,EEkBxB,kBAOmBJ,YAAKK,EAAWF,GAPnC,OAQH,OADMV,EAPH,gBAQGS,YAAI,CAAEZ,KF9BqB,0BE8BqBG,YARnD,8BAUF,OAVE,mCAUIS,YAAI,CAAEZ,KF9BsB,8BE8BwBG,QAAQ,EAAD,KAV/D,qDAeP,SAASY,EAAWF,GAClB,IFlC6B,IEkC1BA,EACD,OAAQG,IAAMC,IAAI,6BAA6BJ,EAAG,SAASK,KAAKC,GAAUA,EAASC,MAGnF,MAAM,IAAIC,MFrCuB,6BEyCrC,SAASV,IACP,OAAQK,IAAMC,IAAI,uCAAuCC,KAAKC,GAAaA,EAASC,MAIvE,SAAUZ,IAAV,iEACb,OADa,SACPc,YAAI,CAACC,YAAKnB,GACdmB,YAAKlB,GACLkB,YAAKjB,GACLiB,YAAKhB,KAJM,uCChDjB,MAAMiB,EAA2BC,cAC3BC,EAAQC,YAAY9B,EAAY+B,YAAgBJ,IACtDA,EAAyBK,IAAIC,GACdJ,QCWAK,MAjBf,SAAqBC,GACpB,IACIC,EADAC,EAAM,EAaR,OAVDD,EAD6B,IAA3BD,EAAMG,YAAYC,OJGkB,mBIAnBJ,EAAMG,YAAYE,IAAKC,IACzCJ,GAAY,EAEE,wBAAIK,IAAKL,EAAMI,EAAKE,SAAUF,EAAKE,QAAnC,KAA8CF,EAAKG,KAAnD,KACLH,EAAKxC,MADA,KACSwC,EAAKI,WAIpB,wBAAIC,UAAU,aAAaV,ICqBvBW,MAFCC,aA9BhB,SAAyB/C,GACvB,MAAO,CACLgD,sBAAuBhD,EAAMF,mBA4BjBiD,CAvBc,EAAGC,2BAGvBA,GAAyBA,EAAsBC,cAGnD,yBAAKJ,UAAU,QAEb,yBAAKA,UAAU,UAAf,WAGA,yBAAKA,UAAU,SACdG,EAAsBE,MAEtB,6BACC,kBAAC,EAAD,CAAab,YAAaW,EAAsBC,kBAX7C,+BCVL,MAAME,UAAkBC,YAE9BC,YAAYnB,GACVoB,MAAMpB,GAIRqB,oBACEC,KAAKtB,MAAMuB,kBAMbC,SAEE,OAAKF,KAAKtB,MAAMrC,aAAayC,OAM7B,yBAAKO,UAAU,aACb,yBAAKA,UAAU,SAGXW,KAAKtB,MAAMrC,aAAa0C,IAAIoB,GAAY,yBAAKd,UAAU,OAAQJ,IAAKkB,EAAS5C,GAAG4C,EAAST,KACzFU,QAAS,IAAMJ,KAAKtB,MAAM2B,mBAAmB,CAAC7C,iBAAkB2C,EAAS5C,MACvE,yBAAK8B,UAAU,UACZc,EAAST,MAEZ,6BACE,qCAAWS,EAASG,MAApB,UAAkCH,EAAS5C,GAA3C,UACM4C,EAASI,IADf,UAC2BJ,EAASK,IADpC,SAQR,yBAAKnB,UAAU,SAEhB,kBAACoB,EAAD,QAxBG,4CAuCOlB,mBANf,SAAyB/C,GACvB,MAAO,CACLH,aAAcG,EAAMH,gBAMtB,CAAE4D,gBC/DG,WACL,MAAO,CAAEvD,KPFsB,sBMgEb2D,mBC3Db,SAA4B9C,GACjC,MAAO,CAAEb,KPPyB,uBOOEG,QAAQU,KDwD/BgC,CAGbI,G,sBEhEF,MAAMe,UAAsBC,IAAMf,UAChCC,YAAYnB,GACVoB,MAAMpB,GACNsB,KAAKxD,MAAQ,CAAEoE,UAAU,GAG3B,gCAAgCC,GAE9B,MAAO,CAAED,UAAU,GAGrBE,kBAAkBD,EAAOE,GAEvBC,QAAQC,IAAIJ,EAAOE,GAGrBb,SACE,OAAIF,KAAKxD,MAAMoE,SAEN,gFAGFZ,KAAKtB,MAAMwC,UAIPR,QCrBf,MAAMS,UAAYvB,YAChBM,SAEE,OACA,kBAAC,IAAD,CAAQkB,SAAUC,qBACd,yBAAKhC,UAAU,OACf,4BAAQA,UAAU,cAChB,yBAAKiC,IAAI,8BAA8BjC,UAAU,WAAWkC,IAAI,SAChE,wBAAIlC,UAAU,aAAd,6BAEA,kBAAC,EAAD,KACE,kBAAC,IAAD,CAAOmC,OAAK,EAACC,KAAK,IAAIC,UAAW/B,QAS9BwB,QCnBfjB,iBACE,kBAAC,IAAD,CAAU9B,MAAOA,GAEf,kBAAC,EAAD,OAGHuD,SAASC,eAAe,W","file":"static/js/main.3e666437.chunk.js","sourcesContent":["export const GET_CUSTOMER_ADDRESS = \"GET_CUSTOMER_ADDRESS\";\nexport const GET_CUSTOMER_LIST = \"GET_CUSTOMER_LIST\";\nexport const CUSTOMER_ADDRESS_LOADED = \"CUSTOMER_ADDRESS_LOADED\";\nexport const CUSTOMER_LIST_LOADED = \"CUSTOMER_LIST_LOADED\";\nexport const CUSTOMER_ADDRESS_LOAD_ERROR=\"CUSTOMER_ADDRESS_LOAD_ERROR\";\nexport const CUSTOMER_LIST_LOAD_ERROR=\"CUSTOMER_LIST_LOAD_ERROR\";\nexport const CUSTOMER_INVALID_ID=-1;\nexport const CUSTOMER_INVALID_ID_ERROR=\"CUSTOMER_INVALID_ID_ERROR\";\nexport const CUSTOMER_ADDRESS_NOT_FOUND=\"No address found\";","import { CUSTOMER_ADDRESS_LOADED,CUSTOMER_LIST_LOADED } from \"../constants/action-types\";\n\n\nconst initialState = {\n  customerList: [],\n  customerAddress: {}\n};\n\nfunction rootReducer(state = initialState, action) {\n  \n  if (action.type === CUSTOMER_ADDRESS_LOADED) {\n\n    return Object.assign({}, state, {\n      customerAddress: action.payload\n    });\n  }\n  if (action.type === CUSTOMER_LIST_LOADED) {\n   return Object.assign({}, state, {\n      customerList: action.payload\n    });\n  }\n  return state;\n}\n\nexport default rootReducer;\n","\n  import { put, call, fork, takeEvery, all } from 'redux-saga/effects'\n  import axios from 'axios';\n  import * as actionType from \"../constants/action-types\";\n\n\n\n   export function* watchGetAllCustomers() {\n    yield takeEvery(actionType.GET_CUSTOMER_LIST, workerSagaCustomerList);\n   }\n\n  export function* watchGetAddressDetail(action) {\n   yield takeEvery(actionType.GET_CUSTOMER_ADDRESS, workerSagaAddress);\n   }\n   export function* workerSagaCustomerList() {\n   try {\n      const payload = yield call(getData);\n      yield put({ type: actionType.CUSTOMER_LIST_LOADED, payload });\n    } catch (e) {\n      yield put({ type: actionType.CUSTOMER_LIST_LOAD_ERROR, payload: e });\n    }\n  }\n\n\n  export function* workerSagaAddress(action) {\n   \n    /*if(action&&action.payload)\n      console.log(action.payload.selectedCustomer);*/\n    let id=action&&action.payload?action.payload.selectedCustomer:actionType.CUSTOMER_INVALID_ID;\n   \n    try {\n      const payload = yield call(getAddress,id);\n      yield put({ type: actionType.CUSTOMER_ADDRESS_LOADED, payload });\n    } catch (e) {\n       yield put({ type: actionType.CUSTOMER_ADDRESS_LOAD_ERROR, payload: e });\n    }\n  }\n\n\n  function getAddress(id){\n    if(id!==actionType.CUSTOMER_INVALID_ID){\n      return  axios.get('assets/samplejson/customer'+id+'.json').then(response=>response.data);\n       }\n    else {\n      throw new Error(actionType.CUSTOMER_INVALID_ID_ERROR);\n       }\n\n  }\n  function getData() {\n    return  axios.get('assets/samplejson/customerlist.json').then(response =>  response.data)\n  }\n\n\n  export default function* root() {\n    yield all([fork(watchGetAllCustomers), \n      fork(watchGetAddressDetail),\n      fork(workerSagaCustomerList),\n      fork(workerSagaAddress)])\n  }\n\n","import { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nimport createSagaMiddleware from \"redux-saga\";\nimport apiSaga from \"../sagas/api-saga\";\n\nconst initialiseSagaMiddleware = createSagaMiddleware();\nconst store = createStore(rootReducer,applyMiddleware(initialiseSagaMiddleware));\ninitialiseSagaMiddleware.run(apiSaga);\nexport default store;\n","import React from 'react';\nimport {CUSTOMER_ADDRESS_NOT_FOUND} from '../constants/action-types';\nfunction AddressList(props){\n\tlet count=1;\n\tlet addressListItem;\n\tif(props.addressList.length===0){\n\t\taddressListItem= CUSTOMER_ADDRESS_NOT_FOUND;\n\t}else{\n    \taddressListItem=props.addressList.map((item)=>{\n\t \tcount=count+1;\n\t \n        return  (<li key={count+item.address}>{item.address}, {item.city}\n        \t, {item.state}, {item.country}</li> )\n        \t});\n        }\n\n   return (<ul className=\"numbering\">{addressListItem}</ul>);\n\t}\n\nexport default AddressList;\n","import React from 'react';\nimport AddressList from './AddressList';\nimport { connect } from \"react-redux\";\n\n\nfunction mapStateToProps(state) {\n  return {\n    customerAddressDetail: state.customerAddress\n  };\n}\n\n\nconst CustomerAddressDetail = ({ customerAddressDetail }) => {\n\n\n    if (!(customerAddressDetail && customerAddressDetail.addressDetail))\n      return(<div/>);\n    return (\n      <div className=\"card\">\n      \n        <div className=\"header\">\n          Address \n        </div>\n        <div className=\"title\">\n        {customerAddressDetail.name}\n        </div>\n         <div>\n          <AddressList addressList={customerAddressDetail.addressDetail} />\n         </div>\n     \n      </div>\n    )\n  }\n  \n\nconst Address = connect(mapStateToProps)(CustomerAddressDetail);\n\nexport default Address;\n\n\n\n\n","import React, {Component} from 'react';\nimport CustomerAddressDetails from './CustomerAddressDetails'\nimport { connect } from \"react-redux\";\nimport { getCustomerList,getCustomerAddress} from \"../actions/index\";\n\n\nexport  class Customers extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  //function which is called the first time the component loads\n  componentDidMount() {\n    this.props.getCustomerList();\n    \n  }\n\n  \n\n  render() {\n\n    if (!this.props.customerList.length)\n      return (\n        <p>Loading data</p>\n        );\n\n    return (\n    <div className=\"addmargin\">\n      <div className=\"col-1\" >\n        {\n\n          this.props.customerList.map(customer => <div className=\"card\"  key={customer.id+customer.name} \n          onClick={() => this.props.getCustomerAddress({selectedCustomer: customer.id})}>\n            <div className=\"header\">\n              {customer.name}\n            </div>\n            <div>\n              <p>Email: {customer.email}, ID : {customer.id}, \n              Age: {customer.age}, Sex: {customer.sex} </p>\n              \n            </div>\n          </div>)\n        }\n      </div>\n\n      <div className=\"col-2\">\n     \n     <CustomerAddressDetails/>\n      </div>\n      \n    </div>)\n  }\n\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    customerList: state.customerList\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { getCustomerList,getCustomerAddress }\n)(Customers);\n","import { GET_CUSTOMER_LIST,GET_CUSTOMER_ADDRESS } from \"../constants/action-types\";\n\nexport function getCustomerList() {\n  return { type: GET_CUSTOMER_LIST};\n}\n\nexport function getCustomerAddress(id) {\n  return { type: GET_CUSTOMER_ADDRESS,payload:id};\n}\n\n\n\n\n","\nimport React from 'react';\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.log(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Server or Network issue ..Please try again later</h1>;\n    }\n\n    return this.props.children; \n  }\n}\n\nexport default ErrorBoundary;","\nimport React, { Component } from 'react';\nimport Customers from \"./js/components/Customers\";\nimport { BrowserRouter as Router, Route} from 'react-router-dom';\nimport './App.css';\nimport ErrorBoundary from './js/components/ErrorBoundary';\n\nclass App extends Component {\n  render() {\n    \n    return (\n    <Router basename={process.env.PUBLIC_URL}>\n        <div className=\"App\">\n        <header className=\"App-header\">\n          <img src=\"./assets/images/conviva.png\" className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">Conviva Customer Portal </h1>\n        </header>\n          <ErrorBoundary>\n            <Route exact path='/' component={Customers} />\n          </ErrorBoundary>\n         \n      </div>\n    </Router>\n    );\n  }\n}\n\nexport default App;\n\n\n\n\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./js/store/index\";\nimport App from \"./App.js\";\n\n\n\nrender(\n  <Provider store={store}>\n  \n    <App />\n   \n  </Provider>,\n document.getElementById(\"root\")\n);\n"],"sourceRoot":""}