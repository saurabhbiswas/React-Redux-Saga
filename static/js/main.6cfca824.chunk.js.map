{"version":3,"sources":["js/constants/action-types.js","js/reducers/index.js","js/sagas/api-saga.js","js/store/index.js","js/components/AddressList.js","js/components/CustomerAddressDetails.js","js/components/Customers.js","js/actions/index.js","App.js","index.js"],"names":["GET_CUSTOMER_ADDRESS","GET_CUSTOMER_LIST","CUSTOMER_ADDRESS_LOADED","CUSTOMER_LIST_LOADED","CUSTOMER_ADDRESS_LOAD_ERROR","CUSTOMER_LIST_LOAD_ERROR","CUSTOMER_INVALID_ID","CUSTOMER_INVALID_ID_ERROR","initialState","customerList","customerAddress","rootReducer","state","action","type","Object","assign","payload","watchGetAllCustomers","watchGetAddressDetail","workerSagaCustomerList","workerSagaAddress","root","takeEvery","actionType","call","getData","put","id","selectedCustomer","getAddress","axios","get","then","response","data","Error","all","fork","initialiseSagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","apiSaga","AddressList","props","count","addressListItem","addressList","map","item","key","address","city","country","className","Address","connect","customerAddressDetail","addressDetail","name","Customers","this","getCustomerList","length","customer","onClick","getCustomerAddress","email","phone","age","sex","CustomerAddressDetails","Component","App","src","alt","exact","path","render","to","component","document","getElementById"],"mappings":"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","file":"static/js/main.6cfca824.chunk.js","sourcesContent":["export const GET_CUSTOMER_ADDRESS = \"GET_CUSTOMER_ADDRESS\";\nexport const GET_CUSTOMER_LIST = \"GET_CUSTOMER_LIST\";\nexport const CUSTOMER_ADDRESS_LOADED = \"CUSTOMER_ADDRESS_LOADED\";\nexport const CUSTOMER_LIST_LOADED = \"CUSTOMER_LIST_LOADED\";\nexport const CUSTOMER_ADDRESS_LOAD_ERROR=\"CUSTOMER_ADDRESS_LOAD_ERROR\";\nexport const CUSTOMER_LIST_LOAD_ERROR=\"CUSTOMER_LIST_LOAD_ERROR\";\nexport const CUSTOMER_INVALID_ID=-1;\nexport const CUSTOMER_INVALID_ID_ERROR=\"CUSTOMER_INVALID_ID_ERROR\";","import { CUSTOMER_ADDRESS_LOADED,CUSTOMER_LIST_LOADED } from \"../constants/action-types\";\n\n\nconst initialState = {\n  customerList: [],\n  customerAddress: {}\n};\n\nfunction rootReducer(state = initialState, action) {\n  \n  if (action.type === CUSTOMER_ADDRESS_LOADED) {\n    return Object.assign({}, state, {\n      customerAddress: action.payload\n    });\n  }\n  if (action.type === CUSTOMER_LIST_LOADED) {\n   return Object.assign({}, state, {\n      customerList: action.payload\n    });\n  }\n  return state;\n}\n\nexport default rootReducer;\n","\n  import { put, call, fork, takeEvery, all } from 'redux-saga/effects'\n  import axios from 'axios';\n  import * as actionType from \"../constants/action-types\";\n\n\n\n   export function* watchGetAllCustomers() {\n    yield takeEvery(actionType.GET_CUSTOMER_LIST, workerSagaCustomerList);\n   }\n\n  export function* watchGetAddressDetail(action) {\n   yield takeEvery(actionType.GET_CUSTOMER_ADDRESS, workerSagaAddress);\n   }\n   export function* workerSagaCustomerList() {\n   try {\n      const payload = yield call(getData);\n      yield put({ type: actionType.CUSTOMER_LIST_LOADED, payload });\n    } catch (e) {\n      yield put({ type: actionType.CUSTOMER_LIST_LOAD_ERROR, payload: e });\n    }\n  }\n\n\n  export function* workerSagaAddress(action) {\n   \n    /*if(action&&action.payload)\n      console.log(action.payload.selectedCustomer);*/\n    let id=action&&action.payload?action.payload.selectedCustomer:actionType.CUSTOMER_INVALID_ID;\n   \n    try {\n      const payload = yield call(getAddress,id);\n      yield put({ type: actionType.CUSTOMER_ADDRESS_LOADED, payload });\n    } catch (e) {\n       yield put({ type: actionType.CUSTOMER_ADDRESS_LOAD_ERROR, payload: e });\n    }\n  }\n\n\n  function getAddress(id){\n    if(id!==actionType.CUSTOMER_INVALID_ID){\n      return  axios.get('assets/samplejson/customer'+id+'.json').then(response=>response.data);\n       }\n    else {\n      throw new Error(actionType.CUSTOMER_INVALID_ID_ERROR);\n       }\n\n  }\n  function getData() {\n    return  axios.get('assets/samplejson/customerlist.json').then(response =>  response.data)\n  }\n\n\n  export default function* root() {\n    yield all([fork(watchGetAllCustomers), \n      fork(watchGetAddressDetail),\n      fork(workerSagaCustomerList),\n      fork(workerSagaAddress)])\n  }\n\n","import { createStore, applyMiddleware } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nimport createSagaMiddleware from \"redux-saga\";\nimport apiSaga from \"../sagas/api-saga\";\n\nconst initialiseSagaMiddleware = createSagaMiddleware();\nconst store = createStore(rootReducer,applyMiddleware(initialiseSagaMiddleware));\ninitialiseSagaMiddleware.run(apiSaga);\nexport default store;\n","import React from 'react';\nfunction AddressList(props){\n\tlet count=1;\n    let addressListItem=props.addressList.map((item)=>{\n\t \tcount=count+1;\n        return  (<li key={count+item.address}>{item.address}, {item.city}\n        \t, {item.state}, {item.country}</li> )\n        \t\n    });\n\n   return (<ul className=\"numbering\">{addressListItem}</ul>);\n\t}\n\nexport default AddressList;\n","import React from 'react';\nimport AddressList from './AddressList';\nimport { connect } from \"react-redux\";\n\n\nfunction mapStateToProps(state) {\n  return {\n    customerAddressDetail: state.customerAddress\n  };\n}\n\n\nconst CustomerAddressDetail = ({ customerAddressDetail }) => {\n\n\n    if (!(customerAddressDetail && customerAddressDetail.addressDetail))\n      return(<div/>);\n    return (\n      <div className=\"card\">\n      \n        <div className=\"header\">\n          Address \n        </div>\n        <div className=\"title\">\n        {customerAddressDetail.name}\n        </div>\n         <div>\n          <AddressList addressList={customerAddressDetail.addressDetail} />\n         </div>\n     \n      </div>\n    )\n  }\n  \n\nconst Address = connect(mapStateToProps)(CustomerAddressDetail);\n\nexport default Address;\n\n\n\n\n","import React, {Component} from 'react';\nimport CustomerAddressDetails from './CustomerAddressDetails'\nimport { connect } from \"react-redux\";\nimport { getCustomerList,getCustomerAddress} from \"../actions/index\";\n\n\nexport  class Customers extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  //function which is called the first time the component loads\n  componentDidMount() {\n    this.props.getCustomerList();\n    \n  }\n\n  \n\n  render() {\n    if (!this.props.customerList.length)\n      return (\n        <p>Loading data</p>\n        );\n\n    return (\n    <div className=\"addmargin\">\n      <div className=\"col-1\" >\n        {\n\n          this.props.customerList.map(customer => <div className=\"card\"  key={customer.id+customer.name} \n          onClick={() => this.props.getCustomerAddress({selectedCustomer: customer.id})}>\n            <div className=\"header\">\n              {customer.name}\n            </div>\n            <div>\n              <p>Email: {customer.email}, mobile: {customer.phone}, \n              Age: {customer.age}, Sex: {customer.sex} </p>\n              \n            </div>\n          </div>)\n        }\n      </div>\n\n      <div className=\"col-2\">\n     \n     <CustomerAddressDetails/>\n      </div>\n      \n    </div>)\n  }\n\n}\n\n\nfunction mapStateToProps(state) {\n  return {\n    customerList: state.customerList\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  { getCustomerList,getCustomerAddress }\n)(Customers);\n","import { GET_CUSTOMER_LIST,GET_CUSTOMER_ADDRESS } from \"../constants/action-types\";\n\nexport function getCustomerList() {\n  return { type: GET_CUSTOMER_LIST};\n}\n\nexport function getCustomerAddress(id) {\n  return { type: GET_CUSTOMER_ADDRESS,payload:id};\n}\n\n\n\n\n","\nimport React, { Component } from 'react';\nimport Customers from \"./js/components/Customers\";\nimport { BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    \n    return (\n\n      <Router>\n        <div className=\"App\">\n        <header className=\"App-header\">\n          <img src=\"./assets/images/conviva.png\" className=\"App-logo\" alt=\"logo\" />\n          <h1 className=\"App-title\">ConViva Customer Portal </h1>\n        </header>\n          <Switch>\n                <Route exact path= \"/\" render={() => (\n                  <Redirect to=\"/customerlist\"/>\n                )}/>\n                 <Route exact path='/customerlist' component={Customers} />\n          </Switch>\n      </div>\n    </Router>\n    );\n  }\n}\n\nexport default App;\n\n\n\n\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./js/store/index\";\nimport App from \"./App.js\";\n\n\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n document.getElementById(\"root\")\n);\n"],"sourceRoot":""}